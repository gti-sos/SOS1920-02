<script>

	import {pop} from "svelte-spa-router";
    import Button from "sveltestrap/src/Button.svelte";
	
async function loadGraph() {
	
	let MyData = [];
	let Provinces = ["x"];
	let Traveller = ["Viajero"];
	//let Overnightstay = ["Pernoctaciรณn"];
	//let Averagestay = ["Estancia media"];
	const resData = await fetch("/api/v1/rural-tourism-stats");
	MyData = await resData.json();
	
	MyData.forEach( (x) => {
		Provinces.push(x.province);
		Traveller.push(x.traveller);
		//Overnightstay.push(x.overnightstay);
		//Averagestay.push(x.averagestay);
	});
	var chart = bb.generate({
	  data: {
		x: "x",
		columns: [
		Provinces,
		Traveller
		],
		type: "radar",
		labels: true
	  },
	  radar: {
		axis: {
		  max: 60000
		},
		level: {
		  depth: 6
		},
		direction: {
		  clockwise: true
		}
	  },
	  bindto: "#radarChart"
	});
}
	
	loadGraph();
</script>

<svelte:head>

   
</svelte:head>

<main>
    <h3 style="text-align: center;"> <i class="fas fa-suitcase"></i> Estadísticas del turismo rural de Andalucía en 2015</h3>
	
	<Button outline color="secondary" on:click="{pop}">Volver</Button>
	
    <div id="radarChart"></div>
	
	<p style="text-align:center;">
		En la gráfica podemos observar el número de viajeros del turismo rural en Andalucia.
	</p>
</main>





